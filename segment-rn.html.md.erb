---
title: PCF Isolation Segment v1.12 Release Notes
owner: Release Engineering
---

## <a id='releases'></a> Releases

### <a id='1.12.0-beta.1'></a> 1.12.0-beta.1

* HAProxy can now be deployed in front of the Router VMs.
* The default instance count for the Router has been bumped to 3.
* A minimum TLS version can be set for the Router and HAProxy.
* Operators can disable HTTP on the HAProxy VM.
* Operators can specify cipher suites for the HAProxy VM.
* HAProxy can be configured to reject inbound requests to a domain that do not originate from a known CIDR.
* HAProxy can forward requests over TLS to the Router.

  <table border="1" class="nice">
  <thead>
  <tr>
    <th>Component</th>
    <th>Version</th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <td>Stemcell</td><td>3445</td>
  </tr><tr>
    <td>cf-networking</td><td>1.4.0</td>
  </tr><tr>
    <td>cflinuxfs2</td><td>1.146.0</td>
  </tr><tr>
    <td>consul</td><td>171</td>
  </tr><tr>
    <td>diego</td><td>1.24.0</td>
  </tr><tr>
    <td>garden-runc</td><td>1.9.0</td>
  </tr><tr>
    <td>grootfs</td><td>0.24.0</td>
  </tr><tr>
    <td>haproxy</td><td>8.3.0</td>
  </tr><tr>
    <td>loggregator</td><td>92</td>
  </tr><tr>
    <td>nfs-volume</td><td>1.0.6</td>
  </tr><tr>
    <td>routing</td><td>0.160.0</td>
  </tr><tr>
    <td>syslog-migration</td><td>8</td>
  </tr>
  </tbody>
  <tfoot>
  <tr>
    <td colspan="2"><em>\* Components marked with an asterisk have been patched to resolve security vulnerabilities or fix component behavior.</em></td>
  </tr>
  </tfoot>
  </table>

### <a id='1.12.0-alpha.5'></a> 1.12.0-alpha.5

* Operators can now specify LDAP configurations for their NFSV3 volume services.
* Container Networking is now always enabled.
* Container Networking application packets can be logged.
* Diego Cells now generate instance-identity credentials for applications.
* Apps have access to the mTLS client certificate header.
* The "Networking Point of Entry" selector has been removed in favor of a simpler Networking UI.
* The stemcell has been bumped to v3445.
* Operators can now limit the number of concurrent connections between the Router and a backend.

  <table border="1" class="nice">
  <thead>
  <tr>
    <th>Component</th>
    <th>Version</th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <td>Stemcell</td><td>3445</td>
  </tr><tr>
    <td>cf-networking</td><td>1.4.0</td>
  </tr><tr>
    <td>cflinuxfs2</td><td>1.146.0</td>
  </tr><tr>
    <td>consul</td><td>171</td>
  </tr><tr>
    <td>diego</td><td>1.24.0</td>
  </tr><tr>
    <td>garden-runc</td><td>1.9.0</td>
  </tr><tr>
    <td>grootfs</td><td>0.24.0</td>
  </tr><tr>
    <td>loggregator</td><td>92</td>
  </tr><tr>
    <td>nfs-volume</td><td>1.0.6</td>
  </tr><tr>
    <td>routing</td><td>0.160.0</td>
  </tr><tr>
    <td>syslog-migration</td><td>8</td>
  </tr>
  </tbody>
  <tfoot>
  <tr>
    <td colspan="2"><em>\* Components marked with an asterisk have been patched to resolve security vulnerabilities or fix component behavior.</em></td>
  </tr>
  </tfoot>
  </table>

### <a id='1.12.0-alpha.4'></a> 1.12.0-alpha.4

* Router Sharding mode is now available. See the New Features section for more
  details.
* When selecting the `Isolation Segment Only` option for the Router Sharding
  Mode, the routing api is now disabled.
* The Diego Rep now communicates with the Metron Agent via the Loggregator V2
  API.  This change further secures that API interaction as it is performed via
  mutual TLS.
* Adds GrootFS to run applications in OCI-compliant containers.
* Additionally, operators can rollback to the default Garden image manager
  should they not want to run GrootFS.

  <table border="1" class="nice">
  <thead>
  <tr>
    <th>Component</th>
    <th>Version</th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <td>Stemcell</td><td>3421.9</td>
  </tr><tr>
    <td>cf-networking</td><td>1.4.0</td>
  </tr><tr>
    <td>cflinuxfs2</td><td>1.146.0</td>
  </tr><tr>
    <td>consul</td><td>171</td>
  </tr><tr>
    <td>diego</td><td>1.24.0</td>
  </tr><tr>
    <td>garden-runc</td><td>1.9.0</td>
  </tr><tr>
    <td>grootfs</td><td>0.24.0</td>
  </tr><tr>
    <td>loggregator</td><td>92</td>
  </tr><tr>
    <td>nfs-volume</td><td>1.0.6</td>
  </tr><tr>
    <td>routing</td><td>0.159.0</td>
  </tr><tr>
    <td>syslog-migration</td><td>8</td>
  </tr>
  </tbody>
  <tfoot>
  <tr>
    <td colspan="2"><em>\* Components marked with an asterisk have been patched to resolve security vulnerabilities or fix component behavior.</em></td>
  </tr>
  </tfoot>
  </table>

### <a id='1.12.0-alpha.3'></a> 1.12.0-alpha.3

* Now compiled against a stemcell available for download off of PivNet
  (v3421.9).
* The Container Networking overlay CIDR is no longer configurable. It will
  inherit from the Elastic Runtime tile configuration.

  <table border="1" class="nice">
  <thead>
  <tr>
    <th>Component</th>
    <th>Version</th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <td>Stemcell</td><td>3421.9</td>
  </tr><tr>
    <td>cf-networking</td><td>1.3.4</td>
  </tr><tr>
    <td>cflinuxfs2</td><td>1.145.0</td>
  </tr><tr>
    <td>consul</td><td>171</td>
  </tr><tr>
    <td>diego</td><td>1.23.2</td>
  </tr><tr>
    <td>garden-runc</td><td>1.9.0</td>
  </tr><tr>
    <td>loggregator</td><td>91</td>
  </tr><tr>
    <td>nfs-volume</td><td>1.0.6</td>
  </tr><tr>
    <td>routing</td><td>0.159.0</td>
  </tr><tr>
    <td>syslog-migration</td><td>8</td>
  </tr>
  </tbody>
  <tfoot>
  <tr>
    <td colspan="2"><em>\* Components marked with an asterisk have been patched to resolve security vulnerabilities or fix component behavior.</em></td>
  </tr>
  </tfoot>
  </table>

### <a id='1.12.0-alpha.2'></a> 1.12.0-alpha.2

* Sets the default max-in-flight value for the Diego Cells to 4%.
* Adds Diego configuration for declarative healthchecks. Still missing
  integrated CC-bridge that will enable this (coming in a future alpha).

  <table border="1" class="nice">
  <thead>
  <tr>
    <th>Component</th>
    <th>Version</th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <td>Stemcell</td><td>3421.11</td>
  </tr><tr>
    <td>cf-networking</td><td>1.2.0</td>
  </tr><tr>
    <td>cflinuxfs2</td><td>1.137.0</td>
  </tr><tr>
    <td>consul</td><td>171</td>
  </tr><tr>
    <td>diego</td><td>1.22.0</td>
  </tr><tr>
    <td>garden-runc</td><td>1.9.0</td>
  </tr><tr>
    <td>loggregator</td><td>91</td>
  </tr><tr>
    <td>nfs-volume</td><td>1.0.6</td>
  </tr><tr>
    <td>routing</td><td>0.159.0</td>
  </tr><tr>
    <td>syslog-migration</td><td>6</td>
  </tr>
  </tbody>
  <tfoot>
  <tr>
    <td colspan="2"><em>\* Components marked with an asterisk have been patched to resolve security vulnerabilities or fix component behavior.</em></td>
  </tr>
  </tfoot>
  </table>

### <a id='1.12.0-alpha.1'></a> 1.12.0-alpha.1

  <table border="1" class="nice">
  <thead>
  <tr>
    <th>Component</th>
    <th>Version</th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <td>Stemcell</td><td>3421.11</td>
  </tr><tr>
    <td>cf-networking</td><td>1.2.0</td>
  </tr><tr>
    <td>cflinuxfs2</td><td>1.137.0</td>
  </tr><tr>
    <td>consul</td><td>171</td>
  </tr><tr>
    <td>diego</td><td>1.22.0</td>
  </tr><tr>
    <td>garden-runc</td><td>1.9.0</td>
  </tr><tr>
    <td>loggregator</td><td>91</td>
  </tr><tr>
    <td>nfs-volume</td><td>1.0.6</td>
  </tr><tr>
    <td>routing</td><td>0.159.0</td>
  </tr><tr>
    <td>syslog-migration</td><td>6</td>
  </tr>
  </tbody>
  <tfoot>
  <tr>
    <td colspan="2"><em>\* Components marked with an asterisk have been patched to resolve security vulnerabilities or fix component behavior.</em></td>
  </tr>
  </tfoot>
  </table>

## <a id='intro'></a> About PCF Isolation Segment

The PCF Isolation Segment v1.12 tile is available for installation with PCF
v1.12.

[Isolation segments](../concepts/security.html#isolation-segments) provide
dedicated pools of resources where you can deploy apps and  isolate workloads.
Using isolation segments separates app resources as completely as if they were
in different CF deployments but avoids redundant management and network
complexity.

For more information about using isolation segments in your deployment, see the
[Managing Isolation Segments](../adminguide/isolation-segments.html) topic.

## <a id='install'></a> How to Install

The procedure for installing PCF Isolation Segment v1.12 is documented in the
[Installing PCF Isolation Segment](../opsguide/installing-pcf-is.html) topic.

To install a PCF Isolation Segment, you must first install PCF v1.12.

## <a id='adv-features'></a> About Advanced Features

The Advanced Features section of the PCF Isolation Segment tile includes new
functionality that may have certain constraints.  Although these features are
fully supported, Pivotal recommends caution when using them in production.

## <a id='1.12.0'></a> New Features in PCF Isolation Segment v1.12.0

This section describes new features of the release.

### Diego Cell Max-in-Flight Default

The max-in-flight percentage for the Diego Cell job in the Isolation Segment
has been set to 10% since 1.10, but we've seen especially in larger
environments that having the percentage this high can cause some problems:

* Many simultaneous VM creates/deletes and BOSH blob updates can place
significant stress on the underlying infrastructure, especially on vSphere
which has a greater probability of being under-provisioned.
* The cells that are draining are no longer available for allocation, resulting
in a 10% decrease in total memory and disk capacity during the deployment. This
can cause deployments to no longer have sufficient total capacity to run all
the work, or to have insufficient headroom to place larger workloads
successfully.

For these reasons, we have lowered the default max-in-flight percentage on the
Diego Cells to 4%. Operators can still use the Ops Manager API to configure
this setting to fit their needs.

### Router Sharding Mode

The Isolation Segment tile supports router sharding. Operators can choose to have the routers for the tile only acknowledge requests from apps deployed within its cells, or reject requests for any isolation segment. See **Router Sharding Mode** in the **Networking** section.

### Introducing GrootFS

GrootFS is the new daemon-less container image plugin for Garden, the Elastic
Runtime container engine.  It can be run as an unprivileged user, improving the
security of the Elastic Runtime.
