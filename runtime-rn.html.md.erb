---
title: Pivotal Application Service v2.7 Release Notes
owner: Release Engineering
---

Pivotal Cloud Foundry is certified by the Cloud Foundry Foundation for <%= Date.today.year %>.

Read more about the [certified provider program](https://www.cloudfoundry.org/provider-faq/) and the [requirements of providers](https://www.cloudfoundry.org/provider-requirements/).

<hr>

## <a id='releases'></a> Releases

### <a id='2.7.0-alpha.3'></a> 2.7.0-alpha.3

* **[Security Fix]** Update CF CLI for Autoscaler
* **[Security Fix]** Use mTLS for internal communication with UAA
* **[Feature]** Move Apps Manager resource navigation into the sidebar, and secondary links into the footer
* **[Feature]** Users can skip the backing up of droplets and packages in the blobstore using the BBR cli, when selective-backups are enabled
* **[Feature]** Users can skip backup of certain buckets in the blobstore
* **[Feature]** Allow users to configure max package size so that they can upload packages larger than 2GB
* **[Feature]** Operators can rotate the  Cloud Controller Database encryption key
* **[Feature Improvement]** Add ability to configure max search depth for LDAP in UAA
* **[Bug Fix]** Add optional TTL pruning for TLS routes
* **[Bug Fix]** Send Isolation Segment smoke test application requests on port 443
* **[Feature Request]** PAS 2.7: consume uaadb.tls flag
* Unpin uaa in PAS 2.7
* Bump ubuntu-xenial stemcell to version `315.45`
* Bump capi to version `1.83.0`
* Bump cf-cli to version `1.16.0`
* Bump cf-networking to version `2.23.0`
* Bump cf-smoke-tests to version `40.0.109`
* Bump cflinuxfs3 to version `0.110.0`
* Bump diego to version `2.34.0`
* Bump dotnet-core-offline-buildpack to version `2.2.12`
* Bump garden-runc to version `1.19.3`
* Bump go-offline-buildpack to version `1.8.40`
* Bump haproxy to version `9.6.1`
* Bump nfs-volume to version `2.2.0`
* Bump nginx-offline-buildpack to version `1.0.13`
* Bump nodejs-offline-buildpack to version `1.6.51`
* Bump notifications to version `58`
* Bump php-offline-buildpack to version `4.3.77`
* Bump push-apps-manager-release to version `670.0.4`
* Bump python-offline-buildpack to version `1.6.34`
* Bump r-offline-buildpack to version `1.0.10`
* Bump ruby-offline-buildpack to version `1.7.40`
* Bump smb-volume to version `1.2.2`
* Bump staticfile-offline-buildpack to version `1.4.43`
* Bump uaa to version `73.3.0`

<table border="1" class="nice">
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>ubuntu-xenial stemcell</td><td>315.45</td></tr>
    <tr><td>backup-and-restore-sdk</td><td>1.15.1</td></tr>
    <tr><td>binary-offline-buildpack</td><td>1.0.32</td></tr>
    <tr><td>bosh-dns-aliases</td><td>0.0.3</td></tr>
    <tr><td>bosh-system-metrics-forwarder</td><td>0.0.18</td></tr>
    <tr><td>bpm</td><td>1.1.0</td></tr>
    <tr><td>capi</td><td>1.83.0</td></tr>
    <tr><td>cf-autoscaling</td><td>219</td></tr>
    <tr><td>cf-backup-and-restore</td><td>0.0.11</td></tr>
    <tr><td>cf-cli</td><td>1.16.0</td></tr>
    <tr><td>cf-networking</td><td>2.23.0</td></tr>
    <tr><td>cf-smoke-tests</td><td>40.0.109</td></tr>
    <tr><td>cf-syslog-drain</td><td>10.2</td></tr>
    <tr><td>cflinuxfs3</td><td>0.110.0</td></tr>
    <tr><td>credhub</td><td>2.4.0</td></tr>
    <tr><td>diego</td><td>2.34.0</td></tr>
    <tr><td>dotnet-core-offline-buildpack</td><td>2.2.12</td></tr>
    <tr><td>garden-runc</td><td>1.19.3</td></tr>
    <tr><td>go-offline-buildpack</td><td>1.8.40</td></tr>
    <tr><td>haproxy</td><td>9.6.1</td></tr>
    <tr><td>istio</td><td>2</td></tr>
    <tr><td>java-offline-buildpack</td><td>4.18</td></tr>
    <tr><td>leadership-election</td><td>1.4</td></tr>
    <tr><td>log-cache</td><td>2.1.3</td></tr>
    <tr><td>loggregator-agent</td><td>3.17</td></tr>
    <tr><td>loggregator</td><td>105.5</td></tr>
    <tr><td>mapfs</td><td>1.1.5</td></tr>
    <tr><td>metric-registrar</td><td>1.0.4</td></tr>
    <tr><td>mysql-monitoring</td><td>9.4.0</td></tr>
    <tr><td>nats</td><td>27</td></tr>
    <tr><td>nfs-volume</td><td>2.2.0</td></tr>
    <tr><td>nginx-offline-buildpack</td><td>1.0.13</td></tr>
    <tr><td>nodejs-offline-buildpack</td><td>1.6.51</td></tr>
    <tr><td>notifications-ui</td><td>36</td></tr>
    <tr><td>notifications</td><td>58</td></tr>
    <tr><td>php-offline-buildpack</td><td>4.3.77</td></tr>
    <tr><td>push-apps-manager-release</td><td>670.0.4</td></tr>
    <tr><td>push-usage-service-release</td><td>670.0.6</td></tr>
    <tr><td>pxc</td><td>0.17.0</td></tr>
    <tr><td>python-offline-buildpack</td><td>1.6.34</td></tr>
    <tr><td>r-offline-buildpack</td><td>1.0.10</td></tr>
    <tr><td>routing</td><td>0.188.0</td></tr>
    <tr><td>ruby-offline-buildpack</td><td>1.7.40</td></tr>
    <tr><td>silk</td><td>2.22.0</td></tr>
    <tr><td>smb-volume</td><td>1.2.2</td></tr>
    <tr><td>staticfile-offline-buildpack</td><td>1.4.43</td></tr>
    <tr><td>statsd-injector</td><td>1.10.0</td></tr>
    <tr><td>syslog</td><td>11.4.0</td></tr>
    <tr><td>uaa</td><td>73.3.0</td></tr>
  </tbody>
</table>


### <a id='2.7.0-alpha.2'></a> 2.7.0-alpha.2

* **[Security Fix]** Usage service BBR script now uses ssl validation by default when logging into CAPI
* **[Feature]** Improve scalability of application syslog drain system with new syslog agent architecture
* **[Feature]** Google Cloud Storage (GCS) blobstores are now backed up with BOSH backup and restore (BBR)
* **[Feature]** Add option to disable v1 firehose in loggregator
* **[Feature Improvement]** Increase default number of CPUs for router from 1 to 2
* **[Bug Fix]** Fix drain script in SMB volume driver to prevent it from unmounting shares before Diego has finished evacuating the cell
* Bump ubuntu-xenial stemcell to version `315.36`
* Bump backup-and-restore-sdk to version `1.15.1`
* Bump bpm to version `1.1.0`
* Bump capi to version `1.82.0`
* Bump cf-autoscaling to version `219`
* Bump cf-smoke-tests to version `40.0.108`
* Bump cf-syslog-drain to version `10.2`
* Bump cflinuxfs3 to version `0.101.0`
* Bump garden-runc to version `1.19.2`
* Bump haproxy to version `9.6.0`
* Bump loggregator-agent to version `3.17`
* Bump loggregator to version `105.5`
* Bump nats to version `27`
* Bump nfs-volume to version `2.1.0`
* Bump push-apps-manager-release to version `670.0.3`
* Bump pxc to version `0.17.0`
* Bump smb-volume to version `1.1.0`

<table border="1" class="nice">
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>ubuntu-xenial stemcell</td><td>315.36</td></tr>
    <tr><td>backup-and-restore-sdk</td><td>1.15.1</td></tr>
    <tr><td>binary-offline-buildpack</td><td>1.0.32</td></tr>
    <tr><td>bosh-dns-aliases</td><td>0.0.3</td></tr>
    <tr><td>bosh-system-metrics-forwarder</td><td>0.0.18</td></tr>
    <tr><td>bpm</td><td>1.1.0</td></tr>
    <tr><td>capi</td><td>1.82.0</td></tr>
    <tr><td>cf-autoscaling</td><td>219</td></tr>
    <tr><td>cf-backup-and-restore</td><td>0.0.11</td></tr>
    <tr><td>cf-cli</td><td>1.13.0</td></tr>
    <tr><td>cf-networking</td><td>2.22.0</td></tr>
    <tr><td>cf-smoke-tests</td><td>40.0.108</td></tr>
    <tr><td>cf-syslog-drain</td><td>10.2</td></tr>
    <tr><td>cflinuxfs3</td><td>0.101.0</td></tr>
    <tr><td>credhub</td><td>2.4.0</td></tr>
    <tr><td>diego</td><td>2.31.0</td></tr>
    <tr><td>dotnet-core-offline-buildpack</td><td>2.2.11</td></tr>
    <tr><td>garden-runc</td><td>1.19.2</td></tr>
    <tr><td>go-offline-buildpack</td><td>1.8.39</td></tr>
    <tr><td>haproxy</td><td>9.6.0</td></tr>
    <tr><td>istio</td><td>2</td></tr>
    <tr><td>java-offline-buildpack</td><td>4.18</td></tr>
    <tr><td>leadership-election</td><td>1.4</td></tr>
    <tr><td>log-cache</td><td>2.1.3</td></tr>
    <tr><td>loggregator-agent</td><td>3.17</td></tr>
    <tr><td>loggregator</td><td>105.5</td></tr>
    <tr><td>mapfs</td><td>1.1.5</td></tr>
    <tr><td>metric-registrar</td><td>1.0.4</td></tr>
    <tr><td>mysql-monitoring</td><td>9.4.0</td></tr>
    <tr><td>nats</td><td>27</td></tr>
    <tr><td>nfs-volume</td><td>2.1.0</td></tr>
    <tr><td>nginx-offline-buildpack</td><td>1.0.11</td></tr>
    <tr><td>nodejs-offline-buildpack</td><td>1.6.49</td></tr>
    <tr><td>notifications-ui</td><td>36</td></tr>
    <tr><td>notifications</td><td>57</td></tr>
    <tr><td>php-offline-buildpack</td><td>4.3.76</td></tr>
    <tr><td>push-apps-manager-release</td><td>670.0.3</td></tr>
    <tr><td>push-usage-service-release</td><td>670.0.6</td></tr>
    <tr><td>pxc</td><td>0.17.0</td></tr>
    <tr><td>python-offline-buildpack</td><td>1.6.32</td></tr>
    <tr><td>r-offline-buildpack</td><td>1.0.9</td></tr>
    <tr><td>routing</td><td>0.188.0</td></tr>
    <tr><td>ruby-offline-buildpack</td><td>1.7.38</td></tr>
    <tr><td>silk</td><td>2.22.0</td></tr>
    <tr><td>smb-volume</td><td>1.1.0</td></tr>
    <tr><td>staticfile-offline-buildpack</td><td>1.4.42</td></tr>
    <tr><td>statsd-injector</td><td>1.10.0</td></tr>
    <tr><td>syslog</td><td>11.4.0</td></tr>
    <tr><td>uaa</td><td>72.0</td></tr>
  </tbody>
</table>

### <a id='2.7.0-alpha.1'></a> 2.7.0-alpha.1

* **[Breaking Change]** Remove consul from PAS/SF-PAS
* **[Breaking Change]** Disables ssh proxy HTTP healthcheck server used for some GCP load balancers
* **[Security Fix]** Introduce and trust new Diego "root CA" in advance of existing CA expiration
* **[Feature Improvement]**  Allow raising of LogCache `max_per_source` to provide a longer historical duration for noisy sources.
* **[Feature Improvement]** Garden will now delegate container creates and destroys to containerd, an industry standard container runtime.
* **[Feature Improvement]**  Move 'Enable SMB Volume Services' checkbox from Advanced pane to Application Containers pane
* **[Bug Fix]** Apps Manager colors, header, and footer are customizable again.
* **[Bug Fix]** Fixes NFS resource leak issues
* Bump capi to version `1.80.0`
* Bump cflinuxfs3 to version `0.88.0`
* Bump credhub to version `2.4.0`
* Bump diego to version `2.31.0`
* Bump haproxy to version `9.5.1`
* Bump istio to version `2`
* Bump loggregator-agent to version `3.13`
* Bump mysql-monitoring to version `9.4.0`
* Bump nfs-volume to version `2.0.4`
* Bump push-apps-manager-release to version `669.0.4`
* Bump push-usage-service-release to version `670.0.6`
* Bump uaa to version `72.0`
* Removed consul-drain release
* Removed consul release

<table border="1" class="nice">
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>ubuntu-xenial stemcell</td><td>315.13</td></tr>
    <tr><td>backup-and-restore-sdk</td><td>1.15.0</td></tr>
    <tr><td>binary-offline-buildpack</td><td>1.0.32</td></tr>
    <tr><td>bosh-dns-aliases</td><td>0.0.3</td></tr>
    <tr><td>bosh-system-metrics-forwarder</td><td>0.0.18</td></tr>
    <tr><td>bpm</td><td>1.0.4</td></tr>
    <tr><td>capi</td><td>1.80.0</td></tr>
    <tr><td>cf-autoscaling</td><td>218</td></tr>
    <tr><td>cf-backup-and-restore</td><td>0.0.11</td></tr>
    <tr><td>cf-cli</td><td>1.13.0</td></tr>
    <tr><td>cf-networking</td><td>2.22.0</td></tr>
    <tr><td>cf-smoke-tests</td><td>40.0.51</td></tr>
    <tr><td>cf-syslog-drain</td><td>10.1</td></tr>
    <tr><td>cflinuxfs3</td><td>0.88.0</td></tr>
    <tr><td>credhub</td><td>2.4.0</td></tr>
    <tr><td>diego</td><td>2.31.0</td></tr>
    <tr><td>dotnet-core-offline-buildpack</td><td>2.2.11</td></tr>
    <tr><td>garden-runc</td><td>1.19.1</td></tr>
    <tr><td>go-offline-buildpack</td><td>1.8.39</td></tr>
    <tr><td>haproxy</td><td>9.5.1</td></tr>
    <tr><td>istio</td><td>2</td></tr>
    <tr><td>java-offline-buildpack</td><td>4.18</td></tr>
    <tr><td>leadership-election</td><td>1.4</td></tr>
    <tr><td>log-cache</td><td>2.1.3</td></tr>
    <tr><td>loggregator-agent</td><td>3.13</td></tr>
    <tr><td>loggregator</td><td>103.3</td></tr>
    <tr><td>mapfs</td><td>1.1.5</td></tr>
    <tr><td>metric-registrar</td><td>1.0.4</td></tr>
    <tr><td>mysql-monitoring</td><td>9.4.0</td></tr>
    <tr><td>nats</td><td>26</td></tr>
    <tr><td>nfs-volume</td><td>2.0.4</td></tr>
    <tr><td>nginx-offline-buildpack</td><td>1.0.11</td></tr>
    <tr><td>nodejs-offline-buildpack</td><td>1.6.49</td></tr>
    <tr><td>notifications-ui</td><td>36</td></tr>
    <tr><td>notifications</td><td>57</td></tr>
    <tr><td>php-offline-buildpack</td><td>4.3.76</td></tr>
    <tr><td>push-apps-manager-release</td><td>669.0.4</td></tr>
    <tr><td>push-usage-service-release</td><td>670.0.6</td></tr>
    <tr><td>pxc</td><td>0.16.0</td></tr>
    <tr><td>python-offline-buildpack</td><td>1.6.32</td></tr>
    <tr><td>r-offline-buildpack</td><td>1.0.9</td></tr>
    <tr><td>routing</td><td>0.188.0</td></tr>
    <tr><td>ruby-offline-buildpack</td><td>1.7.38</td></tr>
    <tr><td>silk</td><td>2.22.0</td></tr>
    <tr><td>smb-volume</td><td>1.0.0</td></tr>
    <tr><td>staticfile-offline-buildpack</td><td>1.4.42</td></tr>
    <tr><td>statsd-injector</td><td>1.10.0</td></tr>
    <tr><td>syslog</td><td>11.4.0</td></tr>
    <tr><td>uaa</td><td>72.0</td></tr>
  </tbody>
</table>


## <a id='upgrade'></a> How to Upgrade

The procedure for upgrading to Pivotal Application Service (PAS) v2.7 is documented in the [Upgrading Pivotal Cloud Foundry](http://docs.pivotal.io/pivotalcf/2-7/customizing/upgrading-pcf.html) topic.

When upgrading to PAS v2.7, be aware of the following upgrade considerations:

* If you previously used an earlier version of PAS, you must first upgrade to PAS v2.6 to successfully upgrade to PAS v2.7.

* Some partner service tiles may be incompatible with PCF v2.7. Pivotal is working with partners to ensure their tiles are updated to work with the latest versions of PCF.<br/><br/> For information about which partner service releases are currently compatible with PCF v2.7, review the appropriate partners services release documentation at [https://docs.pivotal.io](https://docs.pivotal.io), or contact the partner organization that produces the tile.


## <a id='new-features'></a> New Features in PAS v2.7

### <a id='consul-server'></a> Consul Server Instance Removed from PAS

The consul server instance is removed from PAS. This saves VM resources and reduces maintenance for managing a clustered component.

In PAS v2.4, the instance count for consul server VMs was scaled down to zero. This allowed the consul server to continue to provide the consul link for tiles that consume it. In PAS v2.7, the consul server instance is removed from PAS. 

For information about breaking changes caused by the removal of the consul server instance, see [Consul Clients Not Supported in PAS](./breaking-changes.html#consul-server).

## <a id='known-issues'></a> Known Issues

### <a id='missing-env-variables'></a> Some Environment Variables Are Missing When Using cflinuxfs3

When using the `cflinuxfs3` stack in PAS v2.3 or later, if you provide environment variables containing periods or dashes, the environment variables do not appear in the process environment of the app.

To resolve this issue, ensure that all applications are using environment variables that do not contain periods or dashes.

For more information, see [Missing environment variables when using PAS 2.3+ and the cflinuxfs3 stack](https://community.pivotal.io/s/article/missing-environment-variables-when-using-pas-2-3-and-the-cflinuxfs3-stack) in the Pivotal Knowledge Base.