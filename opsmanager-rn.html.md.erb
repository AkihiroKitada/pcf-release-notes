---
title: PCF Ops Manager Release v2.1 Release Notes
owner: Ops Manager
---

Pivotal Cloud Foundry is certified by the Cloud Foundry Foundation for <%= Date.today.year %>.

Read more about the [certified provider program](https://www.cloudfoundry.org/provider-faq/) and the [requirements of providers](https://www.cloudfoundry.org/provider-requirements/).

<hr>

## <a id='how-to-upgrade'></a>How to Upgrade ##

The [Upgrading Pivotal Cloud Foundry](http://docs.pivotal.io/pivotalcf/2-1/customizing/upgrading-pcf.html) topic contains instructions for upgrading to Pivotal Cloud Foundry (PCF) Ops Manager v2.1.

### 2.1

Ops Manager v2.1 uses the following component versions:

 <table border="1" class="nice">
  <thead>
  <tr>
    <th>Component</th>
    <th>Version</th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <td>Stemcell</td><td>3541.8</td>
  </tr><tr>
    <td>BBR SDK</td><td>1.4.4</td>
  </tr><tr>
    <td>BOSH Director</td><td>265.1</td>
  </tr><tr>
    <td>BOSH DNS</td><td>1.3.0</td>
  </tr><tr>
    <td>CredHub</td><td>1.7.1</td>
  </tr><tr>
    <td>UAA</td><td>55</td>
  </tr><tr>
    <td>AWS CPI</td><td>69</td>
  </tr><tr>
    <td>Azure CPI</td><td>35</td>
  </tr><tr>
    <td>GCP CPI</td><td>27</td>
  </tr><tr>
    <td>OpenStack CPI</td><td>37</td>
  </tr><tr>
    <td>vSphere CPI</td><td>45.1.0</td>
  </tr><tr>
  </tbody>
  <tfoot>
  <tr>
    <td colspan="2"><em>* Components marked with an asterisk have been patched to resolve security vulnerabilities or fix component behavior.</em></td>
  </tr>
  </tfoot>
  </table>

<hr>

## <a id='major-features'></a>New Features in Ops Manager v2.1

### <a id="stemcell-manager"></a> Stemcell Library

Use the new Stemcell Library to import stemcells, stage stemcells, and view the 
stemcell versions associated with each product. 

In Ops Manager v2.0 and earlier, stemcell management capabilities are located 
within each tile. 
For v2.1, the Stemcell Library provides centralized stemcell management from the **Installation Dashboard** used for all products.

For more information about the Stemcell Library, see [Importing and Managing Stemcells](http://docs.pivotal.io/2-1/opsguide/managing-stemcells.html).

### <a id="custom-vm-extensions"></a> Create Custom VM Extensions

You can create and manage custom VM extensions through the Ops Manager API. Custom VM extensions allow you to assign a group of IaaS-specific `cloud_properties` to a custom VM extension `name`. You can then assign this custom VM extension to jobs. For more information on custom VM extensions, see [Managing Custom VM Extensions](http://docs.pivotal.io/pivotalcf/2-1/customizing/custom-vm-extensions.html).

### <a id="custom-kms"></a> AWS KMS Encryption Available for BOSH and Ops Manager VMs

Operators can specify a custom AWS Key Management Service (KMS) encryption key to encrypt all the Elastic Block Store (EBS) volumes in AWS for BOSH VMs and the Ops Manager VM. You can use this feature to meet data-at-rest encryption requirements or as a security best practice. There is no performance penalty for using encrypted EBS volumes. Pivotal advises all users of PCF on AWS to enable encryption.

To encrypt BOSH and all present and future product VMs, enable **Encrypt EBS Volumes** in the **AWS Config** pane of the BOSH director. To encrypt the Ops Manager VM, you need to re-launch Ops Manager with a new Amazon Machine Image (AMI).

For more information on how to encrypt BOSH and Ops Manager VMs, see [Configuring Amazon EBS Encryption](http://docs.pivotal.io/pivotalcf/2-1/customizing/cloudform-om-ebs-config.html).

### <a id="credhub-hsm"></a> Configure an External CredHub Encryption Provider

In the **Director Config** pane of an installation, you now have the option to select a **CredHub Encryption Provider** to store your encryption keys. For Ops Manager v2.1, you only have the option to select internal storage or a Luna Hardware Security Module (HSM). For more information on configuring your CredHub encryption provider, see [Director Config Page](http://docs.pivotal.io/pivotalcf/2-1/customizing/gcp-om-config.html#director-config).

### <a id="multiple-logins"></a> Multiple Read-Only Users Can Be Logged in Simultaneously

Ops Manager users with **Full View** and **Restricted View** permissions can be logged in simultaneously. Previous to this change, only one user at a time could view Ops Manager.

For security purposes, operators with write access still cannot be logged into Ops Manager simultaneously. For more information on operator roles and permissions, see [Configuring Role-Based Access Control (RBAC) in Ops Manager](http://docs.pivotal.io/pivotalcf/opsguide/config-rbac.html).

### <a id="custom-banner"></a> Create a Custom Banner

From the Ops Manager settings, you can now add a custom banner to communicate important messages to operators. In the new **Custom Banner** pane, enter text in the **Banner UI** field to create a banner that appears on each page of the Ops Manager UI. If you enter text in the **SSH Banner** field, that text appears to each operator who shells into Ops Manager. For more information about navigating Ops Manager settings, see [Settings Page](http://docs.pivotal.io/pivotalcf/2-1/customizing/pcf-interface.html#settings).

### <a id="gcs-blobstore"></a> GCS Blobstore Available for External File Storage

You now have the option to select a Google Cloud Storage (GCS) blobstore as your external file storage. With this new feature, Pivotal now recommends you select the **GCS Blobstore** option for the **Blobstore Location** if you install Ops Manager with GCP. For more information, see the [Director Config Page](http://docs.pivotal.io/pivotalcf/2-1/customizing/gcp-om-config.html#director-config) section of *Configuring Ops Manager Director on GCP*.

<p class="note"><strong>Note: </strong>After you deploy Ops Manager, you cannot change the blobstore location.</p>

### <a id="azure-application-gateway"></a> Integrate Azure Application Gateway Load Balancers

In the **Resource Config** pane of the Azure configuration dashboard, you can enter an Azure Application Gateway for your load balancer.

To learn more about Azure Application Gateway, see [Overview of Application Gateway](https://docs.microsoft.com/en-us/azure/application-gateway/application-gateway-introduction) in the Azure documentation.

To learn more about configuring your load balancer for Azure, see the [Resource Config Page](http://docs.pivotal.io/pivotalcf/2-1/customizing/azure-om-config.html#resource-config) section in the *Configuring Ops Manager on Azure* topic.

<p class="note"><strong>Note: </strong> This feature is not recommended for production use. The Azure load balancer does not support an override port in the healthcheck configuration.</p>

### <a id="multiple-clusters"></a> Add Multiple Clusters to Availability Zones

In the vSphere configuration dashboard, you can now add multiple clusters to an Availability Zone (AZ) with the new **Add Cluster** button. For more information on configuring AZs, see [Create Availability Zone Page](http://docs.pivotal.io/pivotalcf/2-1/customizing/vsphere-config.html#create-az) in the _Configuring Ops Manager on vSphere_ topic.

### <a id="ip-discontinued"></a> IP Address Management (IPAM) Removed

Ops Manager no longer reserves a range of IPs for dynamic allocation. Instead, only the BOSH Director manages IP allocation. This change is to keep IP management in a central location without redundancy.

As a result of removing IPAM from Ops Manager, see the following changes:

- Ops Manager no longer picks and reserves a range of static IPs. IP allocation is handled by BOSH.
- To optionally reserve specific IPs, enter IPs in the **Static IPs** pane of your product tile.
- With restrictions now removed, you have more options to expand your network. See [Expand Your Network with Additional Subnets](#add-subnets) below.
- The **Service Network** checkbox in the **Create Networks** pane has been removed.
- You get an ignorable warning when you click **Apply Changes** if the **Static IPs** you enter for your tile are not in the same network or AZ that is assigned to the tile.
- You get an ignorable warning when you click **Apply Changes** if the **Static IPs** you enter for your tile overlap with other tiles.
- You get an ignorable warning when you click **Apply Changes** if you enter a CIDR range that is not large enough to deploy the staged tiles.
- For tile authors, `static_ip` and `dynamic_ip` are now ignored. Ops Manager gets static IPs from the `static_ips` property.


### <a id="add-subnets"></a> Expand Your Network with Additional Subnets

In the **Create Networks** pane of Ops Manager, you can add additional subnets to your network. Each AZ can now have more than one subnet.

This feature is only available if you have already deployed Ops Manager. For more information, see [Expanding Your Network with Additional Subnets](http://docs.pivotal.io/pivotalcf/2-1/customizing/add-subnets.html).

### <a id="vpc-id"></a> VPC Verifier Removed from AWS Configuration

When you configure Ops Manager for AWS, you do not need to provide a Virtual Private Cloud (VPC) ID.

### <a id="alb"></a> Associate AWS ALBs with Jobs

From the **Resource Config** pane of an AWS installation, you can associate an AWS Application Load Balancer (ALB) to a job. For more information, see [Resource Config Page](http://docs.pivotal.io/pivotalcf/2-1/customizing/pcf-aws-manual-om-config.html#pcfaws-om-rscestem) in the AWS configuration topic.

### <a id="bosh-cli-v3"></a> BOSH CLI Upgraded to v3 in Ops Manager

The BOSH CLI is now upgraded to v3 in Ops Manager. The upgrade alters how you update, retrieve, and delete configs for your three built-in director types: cloud, runtime, and CPI. For more information on config management in BOSH, see [Configs](http://bosh.io/docs/configs.html) in the BOSH documentation.

## <a id="known-issues"></a> Known Issues

###<a id="override-port"></a> Azure Load Balancer Does Not Support Override Port
The Azure Application Gateway feature is currently not recommended for production use. The Azure load balancer does not support an override port in the healthcheck configuration. For more information about this feature, see [Integrate Azure Application Gateway Load Balancers](#azure-application-gateway) above.