---
title: Pivotal Elastic Runtime v1.5.0.0 Release Notes
---

## Changes since v1.4.0.0:

## Elastic Runtime

### New Features

#### Default Stack: cflinuxfs2

New deployments will no longer have the lucid64 stack available.

Operators are encouraged to migrate all apps to cflinuxfs2 as mentioned in the v1.4 release notes.

A future release will completely remove the lucid64 stack from Pivotal Cloud Foundry and after upgrading to this subsequent release, apps that have not been migrated to cflinuxfs2 will fail to start.

Further details can be found [here](https://support.pivotal.io/hc/en-us/articles/205751277-New-cflinuxfs2-Stack)

#### Diego-beta Tile and Windows 2012 stack 

Diego can be used to run your apps in Pivotal Cloud Foundry v.1.5, you will need to download and install and additional tile however. [Details](http://docs.pivotal.io/pivotalcf/opsguide/diego-beta.html)

#### Security Configuration of Runtime

This new section allows configuration of security settings for your Pivotal Cloud Foundry Elastic Runtime components, such as HAProxy, Router, and the DEAs.

By checking the "HAProxy allows HTTPS traffic only" checkbox, all port 80 traffic to HAProxy will be rejected and the VCAP_ID cookie generated by the GoRouter will have the secure flag enabled. If this checkbox is checked and your deployment is not using HAProxy, your external load balancer should be configured to not accept port 80 traffic.  If this is not done, traffic to port 80 will still be forwarded applications but would lose session stickiness.

By checking the "Trust Self-Signed Certificates" checkbox, self-signed SSL certificates used by HAProxy or your external load balancer will be trusted. 

By checking the "Enable cross-container traffic within each DEA" checkbox, it disables a restriction on the DEA that disallows containers on a particular DEA from communicating with each other.  It is not recommended to check this checkbox for multi-tenant environments.  

This section also includes fields which allow setting of the HAProxy SSL certificate, HAProxy cipher string, and GoRouter cipher string. 

The HAProxy SSL certificate field is now an optional field.

Custom cipher strings for HAProxy and GoRouter are also optional fields.

#### Other Runtime Features

##### S3-Compatible Filestore Configuration

OpenStack allows for use of an external filestore that is compatible with Amazon's AWS S3 buckets. You can now choose whether you want to deploy Pivotal Elastic Runtime using an internal filestore or an external S3-compatible bucket, whether it is hosted by AWS or Openstack.

If using an external filestore, you can configure the URL endpoint of your S3-compatible filestore under the File Storage Config section. For example, if you are using AWS S3, you can keep this field configured with the default value https://s3.amazonaws.com. Note that this default points to US East region.

#### Improved MySQL Service
MySQL, used by Notifications, Autoscaling, and Apps Manager, ... explain switchboard + improved failure recovery

#### API/cf CLI

A space developer can create a wildcard route for private domains.  Previously, only admins were allowed to create wildcard routes.

`cf create-route SPACE DOMAIN -n "*"`

For example, you could create a wildcard route *.example.com to be mapped to a special 404 app called my404app and myapp.example.com to be mapped to myapp.
Traffic to myapp.example.com would be routed to myapp and traffic to unknown.example.com would be routed to my404app. 

#### Improved stability
* 

#### Services API
* 

#### Misc
* 

### Bug Fixes
* Fixed an issue where buildpack_cache was not busted when switching stacks

## UAA and Login Server
#### UAA & Login Server Merger
UAA and Login Server have been merged into a single component. For Pivotal Cloud Foundry deployment this translates to fewer virtual machines and ease of operation. [Details](https://github.com/cloudfoundry/uaa/releases/tag/2.0.0)

#### Single Sign-On for Applications on Pivotal Cloud Foundry
Muti-tenancy support has been added to UAA which is leveraged by the new Pivotal Single Sign-On Services for Application on Pivotal Cloud Foundry. [Details](https://github.com/cloudfoundry/uaa/releases/tag/2.1.0)

Pivotal Single Sign-On service provides a quick and hassle free way for your applications to be secured by federated identity providers with minimal coding effort. It connects your applications via Single Sign-On while streamlining the end user experience. It is a multi-tenant service which allows both Applications & Identity Providers to be segregated based on the organization needs. [Details](http://docs.pivotal.io/p-identity/index.html)

#### Runbooks available for CA SiteMinder and Ping Identity Single Sign-On
Detailed steps for configuring Single Sign-On between Pivotal Cloud Foundry and industry standard identity providers like CA SiteMinder & Ping Identity are now available. [Details](http://docs.pivotal.io/pivotalcf/opsguide/sso.html#configure-identity-provider)

#### Bug Fixes
The issue with LDAP authentication not working if LDAP Group Search base is not speficied has been addressed. 
[Details](http://docs.pivotal.io/pivotalcf/pcf-release-notes/p1-v1.4/runtime_ki_1_4.html)

When LDAP is configured via Ops Manager console, the operator is now provided an option whether they want to enable Admin Group Mapping. This is an optional configuration. 
For existing deployments using the LDAP Admin group mapping, please manually make the right radio button selection and populate the Admin Group Search Base and the Group Search Filter before applying the changes in the Elactic Runtime tile for upgrade to 1.5

## Logging, Analytics and Metrics

### New Features
* Metron now supports statsd protocol endpoint.
  * Conduit support for statsd. [details] (https://www.pivotaltracker.com/story/show/74358484)
  * Support for:
    * ...gauges. [details] (https://www.pivotaltracker.com/story/show/91452210)
    * ...counters. [details] (https://www.pivotaltracker.com/story/show/91450340)
    * ...timers. [details] (https://www.pivotaltracker.com/story/show/91452204)
  * Sample statsd implementation:
    * ...in go. [details] (https://www.pivotaltracker.com/story/show/91449852)
    * ...in ruby. [details] (https://www.pivotaltracker.com/story/show/91449874)
    * ...in java. [details] (https://www.pivotaltracker.com/story/show/91450916)
  * Verified that increment/decrement function correctly. [details] (https://www.pivotaltracker.com/story/show/91697848)
* Loggregator now generates UUID for components. [details] (https://www.pivotaltracker.com/story/show/91691260)
* Additional Doppler integration tests to prevent regression:
  * ... for metrics emission. [details] (https://www.pivotaltracker.com/story/show/89116544)
  * ... and for goroutine dumps. [details](https://www.pivotaltracker.com/story/show/89069346)
* PR: Updated go package path. [details] (https://www.pivotaltracker.com/story/show/90392586)
* PR: InstrumentedResponseWriter conforms to CloseNotifier interface. [details](https://www.pivotaltracker.com/story/show/91151056)
* All components are now built using Go 1.4

### Bug Fixes
* Fixed an issue where an incorrect typecast would cause a Doppler panic. [details] (https://www.pivotaltracker.com/story/show/91277702)
* Fixed Doppler incorrectly computing totalDroppedMessages as a result of fixing typecast issue.  [details] (https://www.pivotaltracker.com/story/show/91862858)
* PR: Fixed an issue where syslog drain binder assumes that cc is available via http by default.  [details](https://www.pivotaltracker.com/story/show/89053898)
* PR: Additional typos and broken links. [detail 1](https://www.pivotaltracker.com/story/show/90569414) [detail 2](https://www.pivotaltracker.com/story/show/91918380)

## Buildpacks

##### Static File Buildpack

A new buildpack was added, named `staticfile_buildpack` by default,
which allows the deployment of an application made up solely of static
assets.

The application uses a minimal nginx instance to serve the assets, and
so may be deployed with a lower memory quota than generally required
for a full-blown web application.

Full documentation is available at
[github.com/cloudfoundry/staticfile-buildpack](https://github.com/cloudfoundry/staticfile-buildpack).

## Security - CVE fixes have been implemented since v1.4.0.0 and released via security patches.

* Cloud Foundry CVE-2015-1855 Cloud Controller Path Traversal
* Canonical Ubuntu USN-2617-1 FUSE vulnerability
* Canonical Ubuntu USN-2635-1
* Canonical Ubuntu CVE-2015-1328

